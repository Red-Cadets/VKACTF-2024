## Pacman

| Событие | Название | Категория | Сложность |
| :------ | ---- | ---- | ---- |
| VKACTF kids 2023 | Pacman  | Web | Средняя |

  
### Описание


> Автор: [ Po4est ]
>
> Группировка fsociety добралась даже до браузерных [игр](https://pacman.vkactf.ru). Сможешь ли ты добиться такого же результата и показать всем, что ты ничуть не хуже?


### Решение
На сайте нам предоставлена игра Pacman и таблица очков для пяти пользователей. Исходя из описания к заданию и таблицы очков, можно догадаться, что нам нужно набрать такое количество очков, как и у ```fsociety```, а именно ```31337```.
![game](game.png)

Если посмотреть вкладку источники в консоли разработчика, видно что игра полностью обрабатывается на стороне клиента, но код обфусцирован и при поиске переменной ```score``` или числа ```31337``` результатов нет.
![search](search.png)

Можем попробовать деобфусцировать наш код с помощью онлайн деобфускатора. Я возьму первый попавшийся мне при поиске [deobfuscate.io](https://deobfuscate.io/)
![deobf](deobf.png)

Теперь откроем любой редактор и вставим наш деобфусцированный код. Я воспользуюсь VS Code. Попробуем еще раз найти ```score``` или ```31337``` и вуаля, находим переменную ```_0x29a4a5``` которая сравнивается с ```31337```
![search2](search2.png)

Теперь с помощью консоли разработчика, мы можем изменить это значение с помощью команды ```_0x29a4a5=31337```, но счет увеличится только после подбора точки и станет уже ```31347```, а это не удовлетворяет нашему условию. 
![score](score.png)

А все из-за того, что условие проверяется в момент подбора точки, поэтому нужно присвоить переменной на 10 очков меньше, подобрать точку и получить флаг!
![win](win.png)

### Флаг

```
vka{08fu5c4t10n_1n_th3_wr0n6_h4nd5_d035n't_4lw4y5_h3lp}
```
